<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home IoT</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
   <link rel="stylesheet" href="/stylesheets/style.css"> 
   <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  </head>
  <body>


    <header>
      

      <div class="row" style="padding: 0px 10px;">
        <!-- Header part -->

        <nav class="navbar navbar-expand-lg navbar-light bg-light py-5">
          <a class="navbar-brand" href="#">Batch-9 Home IoT </a>
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <a class="nav-link" href="/">Home
                  <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/about.html">About</a>
              </li>
            </ul>
          </div>
        </nav>
      </div>
    </header>
    <!-- Header ends here -->


<div class="main-body" style="margin-top: 20px;margin-left:20px; padding: 20px;">
    <div class="row" id="torefresh">
    {{#if temp}}
      <div class="col" id="ma1">
        <div class="card" style="width: 18rem;margin-top:40px; ">
          <div class="card-body" >
            <h5 class="card-title">Room Temperature</h5>
            <br>
            &ensp; &ensp; &ensp; &ensp; &ensp; &ensp;<svg
              xmlns="http://www.w3.org/2000/svg"
              width="58"
              height="58"
              fill="currentColor"
              class="bi bi-thermometer"
              viewBox="0 0 16 16"
            >
              <path d="M8 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path>
              <path
                d="M8 0a2.5 2.5 0 0 0-2.5 2.5v7.55a3.5 3.5 0 1 0 5 0V2.5A2.5 2.5 0 0 0 8 0zM6.5 2.5a1.5 1.5 0 1 1 3 0v7.987l.167.15a2.5 2.5 0 1 1-3.333 0l.166-.15V2.5z"
              ></path>
            </svg>
            <i class="bi bi-thermometer"></i>
            <h6 class="card-subtitle mb-2 text-muted"></h6>
            <div class="temp-rec" id="temp">
              <br>
            <p class="card-text"> Temperature: {{temp}} ℃</p>
            <p class="card-text"> Humidity: {{hum}} %</p>
            {{#if hour }}
             <span style="font-size: 12px; margin-left: 135px;margin-bottom:-100px;">Last updated {{hour}}:{{minutes}} </span>
            {{/if}} 
            </div>
            
          </div>
         
        </div>
        
     
            
      </div>
  


    {{else}}
    <div class="col" id="ma">
        <div class="card" style="width: 18rem;margin-top:40px; ">
          <div class="card-body" >
            <h5 class="card-title">Room Temperature</h5>
            <br>
            &ensp; &ensp; &ensp; &ensp; &ensp; &ensp;<svg
              xmlns="http://www.w3.org/2000/svg"
              width="58"
              height="58"
              fill="currentColor"
              class="bi bi-thermometer"
              viewBox="0 0 16 16"
            >
              <path d="M8 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path>
              <path
                d="M8 0a2.5 2.5 0 0 0-2.5 2.5v7.55a3.5 3.5 0 1 0 5 0V2.5A2.5 2.5 0 0 0 8 0zM6.5 2.5a1.5 1.5 0 1 1 3 0v7.987l.167.15a2.5 2.5 0 1 1-3.333 0l.166-.15V2.5z"
              ></path>
            </svg>
            <i class="bi bi-thermometer"></i>
            <h6 class="card-subtitle mb-2 text-muted"></h6>
            <div class="temp-rec" id="temp">
              <br>
            <p class="card-text"> Temperature: {{temp}} ℃</p>
            <p class="card-text"> Humidity: {{hum}} %</p>
            
            </div>
            
          </div>
          
        </div>
     
      </div>
    {{/if}}

      <!-- end of temperature -->

      <div class="col">
        <div class="card" style="width: 18rem;margin-top:40px;">
          <div class="card-body">
            <h5 class="card-title"> Lights</h5>
            <BR />
            &ensp; &ensp; &ensp; &ensp; &ensp; &ensp;<svg
              xmlns="http://www.w3.org/2000/svg"
              width="58"
              height="58"
              fill="currentColor"
              class="bi bi-lightbulb"
              viewBox="0 0 16 16"
            >
              <path
                d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"
              ></path>
            </svg>
            <i class="bi bi-lightbulb"></i>
            <h6 class="card-subtitle mb-2 text-muted"></h6>
            <br></br>
            <button type="button" class="btn btn-success" >ON</button>
            <button type="button" class="btn btn-danger">OFF</button>

          </div>
        </div>
      </div>

        <!-- end of lights -->

      <div class="w-50" style="margin-top:40px;">
      <div class="col" >
         <div class="card" style="width: 18rem;">
          <div class="card-body">
            <h5 class="card-title"> Fan</h5>
            <BR />
            &ensp; &ensp; &ensp; &ensp; &ensp; &ensp;<svg xmlns="http://www.w3.org/2000/svg" width="58" height="58" fill="currentColor" class="bi bi-fan" viewBox="0 0 16 16">
  <path d="M10 3c0 1.313-.304 2.508-.8 3.4a1.991 1.991 0 0 0-1.484-.38c-.28-.982-.91-2.04-1.838-2.969a8.368 8.368 0 0 0-.491-.454A5.976 5.976 0 0 1 8 2c.691 0 1.355.117 1.973.332.018.219.027.442.027.668Zm0 5c0 .073-.004.146-.012.217 1.018-.019 2.2-.353 3.331-1.006a8.39 8.39 0 0 0 .57-.361 6.004 6.004 0 0 0-2.53-3.823 9.02 9.02 0 0 1-.145.64c-.34 1.269-.944 2.346-1.656 3.079.277.343.442.78.442 1.254Zm-.137.728a2.007 2.007 0 0 1-1.07 1.109c.525.87 1.405 1.725 2.535 2.377.2.116.402.222.605.317a5.986 5.986 0 0 0 2.053-4.111c-.208.073-.421.14-.641.199-1.264.339-2.493.356-3.482.11ZM8 10c-.45 0-.866-.149-1.2-.4-.494.89-.796 2.082-.796 3.391 0 .23.01.457.027.678A5.99 5.99 0 0 0 8 14c.94 0 1.83-.216 2.623-.602a8.359 8.359 0 0 1-.497-.458c-.925-.926-1.555-1.981-1.836-2.96-.094.013-.191.02-.29.02ZM6 8c0-.08.005-.16.014-.239-1.02.017-2.205.351-3.34 1.007a8.366 8.366 0 0 0-.568.359 6.003 6.003 0 0 0 2.525 3.839 8.37 8.37 0 0 1 .148-.653c.34-1.267.94-2.342 1.65-3.075A1.988 1.988 0 0 1 6 8Zm-3.347-.632c1.267-.34 2.498-.355 3.488-.107.196-.494.583-.89 1.07-1.1-.524-.874-1.406-1.733-2.541-2.388a8.363 8.363 0 0 0-.594-.312 5.987 5.987 0 0 0-2.06 4.106c.206-.074.418-.14.637-.199ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"/>
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14Zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z"/>
</svg>
            <i class="bi bi-fan"></i>
            <h6 class="card-subtitle mb-2 text-muted"></h6>
            <br></br>
            <button type="button" class="btn btn-success" >ON</button>
            <button type="button" class="btn btn-danger">OFF</button>

          </div>
        </div>
      </div>
     
<!--end of fan -->

    

    </div>

<!-- end of main-body -->
<script>

function reloadFailedTemp(){
   $( "#torefresh" ).load(window.location.href + " #torefresh" );

}

    
$( document ).ready(function() {
        setInterval(reloadFailedTemp,10000);
           
          
    });


function updateDiv() //to update temp div
{ 
   $( "#temp" ).load(window.location.href + " #temp" );
   
}


setInterval(updateDiv, 10000);


</script>


    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
  </body>
</html>